<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>日程列表</title>
    <script src="js/jquery-3.3.1.min.js"></script>
    <script src="bootstrap-3.3.7-dist/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="bootstrap-3.3.7-dist/css/bootstrap.min.css">
    <style>
        #choice{
            margin-left: 18%;
            margin-bottom: 30px;
        }
        #content{
            margin-top: 100px;
        }
        #schedule{
            margin: 0 auto;
            width: 1000px;
        }
        #page{
            margin-top: 50px;
            margin-left: 66%;
        }
    </style>
</head>
<body>
    <div id="content">
    <div id="choice">
        <button type="button" onclick="location.href='schedule-add.html'" class="btn btn-success">
            <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
            添加日程
        </button>
    </div>
    <table class="table table-striped" id="schedule">
        <thead>
            <tr>
                <th><input type="checkbox"/>全选</th>
                <th>日程ID</th>
                <th>日程名称</th>
                <th>日程地点</th>
                <th>日程时间</th>
                <th>日程状态</th>
                <th>日程操作</th>
            </tr>
        </thead>
        <tbody id="scheduleData">

        </tbody>
    </table>
    <nav aria-label="Page navigation" id="page">
        <ul class="pagination">
            <li>
                <a href="#" aria-label="Previous">
                    <span aria-hidden="true">&laquo;</span>
                </a>
            </li>
            <li><a href="#">1</a></li>
            <li><a href="#">2</a></li>
            <li><a href="#">3</a></li>
            <li><a href="#">4</a></li>
            <li><a href="#">5</a></li>
            <li>
                <a href="#" aria-label="Next">
                    <span aria-hidden="true">&raquo;</span>
                </a>
            </li>
        </ul>
    </nav>
    </div>
    <script src="js/global.js"></script>
    <script>
        window.onload = function () {
            loadData();
        };
        function loadData() {
            $.ajax({
                async: false,
                type: "get",
                url: rootPath + "/schedule/list",
                dataType: "json",
                success: function (result) {
                    var content = "";
                    $(result.data).each(function (index, obj) {
                        content += "<tr>\n" +
                            "                <td><input type=\"checkbox\"/></td>\n" +
                            "                <td>"+obj.scheduleId+"</td>\n" +
                            "                <td>"+obj.scheduleName+"</td>\n" +
                            "                <td>"+obj.scheduleAddr+"</td>\n" +
                            "                <td>"+obj.scheduleTime+"</td>\n";
                        if (obj.scheduleStatus == 0){
                            content += "         <td>未完成</td>\n" +
                                "                <td>删除 修改 完成</td>\n" +
                                "            </tr>";
                        }else{
                            content += "         <td>已完成</td>\n" +
                                "                <td>删除 修改</td>\n" +
                                "            </tr>";
                        }
                    });
                    $("#scheduleData").append(content);
                    console.log(result);
                }
            });
        }
    </script>
</body>
</html>